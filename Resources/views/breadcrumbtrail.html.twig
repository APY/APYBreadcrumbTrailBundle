{%- if breadcrumbs.count %}
  <ul id="breadcrumbtrail">
  {% for breadcrumb in breadcrumbs %}

    {% set class = (loop.first ? 'home' : (loop.last ? 'current')) %}
    {% set attributes = '' %}
    {% for attr,value in breadcrumb.attributes %}
      {% if attr == 'class' %}
        {% set class = class ~ ' ' ~ value %}
      {% else %}
        {% set attributes = attributes ~ ' ' ~ attr ~ '=' ~ value %}
      {% endif %}
    {% endfor %}
    <li class="{{ class }}" {{ attributes }}>
      {%- if breadcrumb.url is null or loop.last -%}
        {{ breadcrumb.title|trans }}
      {%- else -%}
        <a href="{{ breadcrumb.url }}">{{ breadcrumb.title|trans }}</a>
      {%- endif -%}
    </li>
  {% endfor %}
  </ul>
{%- endif -%}
